<meta charset="utf-8">
<script type="text/javascript">
	
	var answer=parseInt(Math.random()*100);

	var maxPlayerNum=+prompt("Интерактивная игра \"Отгадай число\"\nВведите число игроков.");
	var playerNum=1;
	var maxTryCount=+prompt("Введите количество попыток, \"0\" - неограничено.");
			
		if(maxTryCount==0){
				maxTryCount=Infinity;
		}

	var tryCount=0;
		
	while(tryCount<maxTryCount){
		
		if(playerNum==maxPlayerNum){
			tryCount++;
		}

		if(playerNum==1&&tryCount!=0&&maxPlayerNum!=1){
			alert("Никто не угадал!\nПереход хода к Игроку "+playerNum);
		}

		if(maxTryCount!=Infinity){
			var userAnswer=prompt("Игрок "+playerNum+", отгадайте число от 1 до 100\nУ вас осталось "+(maxTryCount-tryCount)+" попыток.\n\"q\" - прервать игру.");
			}else{
				userAnswer=prompt("Игрок "+playerNum+", отгадайте число от 1 до 100\nУ вас неограниченное количество попыток!\n\"q\" - прервать игру.");
		}

		if(userAnswer=="q"){
			alert("Игрок "+playerNum+" прервал игру.");
			break;
		}
		userAnswer=parseInt(userAnswer);
		
		if(userAnswer==answer){
			alert("Поздравляем, Игрок "+playerNum+", вы победили!");
			break;

			}else if(userAnswer>answer){
				alert("Игрок "+playerNum+", вы ввели слишком большое число");
			}else if(userAnswer<answer){
				alert("Игрок "+playerNum+", вы ввели слишком маленькое число");
		}
	
		if(playerNum==maxPlayerNum){
			playerNum=1;
		}else{
			playerNum++;
		}
	}
		
	alert("Игра окончена.\nЕсли кто не понял, правильный ответ был "+answer);

</script>